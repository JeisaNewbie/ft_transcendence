live-chat 업데이트용 웹소켓
1. 처음 연결시 서버측에서 나와 대화했던 모든 유저의 정보(방 번호, 이미지, 최근 채팅, 블락 유무(내가 한), 상대방 이름)

2. 새 유저가 나에게 메세지를 보낸다면 ex)메세지 타입: new room 으로 새 유저의 정보 송신

3. 메세지 타입 확인 후 new room시 가장 위에 추가


채팅방에서 메세지 송신을 위한 웹소켓

1. live-chat 업데이트용 웹소켓 에서 넘겨받은 방번호로 소켓 연결요청 /

1-1. 채팅방 클릭시 서버쪽에 이전 채팅기록 요구 메세지 타입: history message /

2. 서버쪽은 소켓 연결 /

2-1. 서버는 이전 채팅기록 송신 /

2-2. 클라는 이전 채팅기록 출력 /

3. 메세지 송신시

3-1. 메세지 타입: direct message

3-2. 메세지 타입: block

로그아웃시 받았던 메세지 구현

1. 상대방이 따로 request를 안보냈는데 서버쪽에서 메세지를 어떻게 보내는지
(메세지를 주고 받는 소켓을 열고, onmessage에 함수 등록) /

1-1. 임의로 끊는 경우가 아닌 소켓의 연결이 끊긴 경우, 다시 재연결을 하는 함수

2. 로그아웃 시 서버측에 해당 유저가 로그아웃(혹은 소켓 끊김)했다는 정보를 알려주고, 서버측에

해당 유저에게 보내지는 새로운 메세지의 인덱스 저장을 요청. 이후 해당 유저가

로그인 시 해당 유저의 채팅방 목록과 새로운 메세지의 인덱스, 총 메세지 수,

마지막 메세지를 요청.
